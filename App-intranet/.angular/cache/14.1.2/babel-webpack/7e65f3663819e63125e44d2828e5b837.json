{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/intranet-post.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nconst _c0 = function (a0) {\n  return {\n    snapped: a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    color: a0\n  };\n};\n\nfunction SingleIntranetPostComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"img\", 2);\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\")(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function SingleIntranetPostComponent_div_0_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const intranetPost_r1 = restoredCtx.ngIf;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onLike(intranetPost_r1.id));\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 4);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"a\", 5);\n    i0.ɵɵtext(16, \"Back\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const intranetPost_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, ctx_r0.buttonText === \"Dislike\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 9, intranetPost_r1.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", intranetPost_r1.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", intranetPost_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Mis en ligne le \", i0.ɵɵpipeBind2(7, 11, intranetPost_r1.createdDate, \"d MMMM yyy\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(intranetPost_r1.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.buttonText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(16, _c1, \"rgb(0, \" + intranetPost_r1.snaps + \", 0)\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(intranetPost_r1.snaps);\n  }\n}\n\nexport class SingleIntranetPostComponent {\n  constructor(intranetPostService, route) {\n    this.intranetPostService = intranetPostService;\n    this.route = route;\n  }\n\n  ngOnInit() {\n    this.buttonText = 'Like';\n    const postId = +this.route.snapshot.params['id'];\n    this.intranetPost$ = this.intranetPostService.getSnapIntranetById(postId);\n  } // onLike() {\n  //   if (this.buttonText === 'Like'){\n  //     this.intranetPostService.snapIntranetById(this.intranetPost.id, 'Like');\n  //     // this.intranetPost.snaps++;\n  //     this.buttonText = 'Dislike';\n  //   } else {\n  //     this.intranetPostService.snapIntranetById(this.intranetPost.id, 'Dislike');\n  //     // this.intranetPost.snaps--;\n  //     this.buttonText = 'Like';\n  //   }\n  // }\n\n\n  onLike(postId) {\n    if (this.buttonText === 'Like') {\n      this.intranetPostService.snapIntranetById(postId, 'Like'); // this.intranetPost.snaps++;\n\n      this.buttonText = 'Dislike';\n    } else {\n      this.intranetPostService.snapIntranetById(postId, 'Dislike'); // this.intranetPost.snaps--;\n\n      this.buttonText = 'Like';\n    }\n  }\n\n}\n\nSingleIntranetPostComponent.ɵfac = function SingleIntranetPostComponent_Factory(t) {\n  return new (t || SingleIntranetPostComponent)(i0.ɵɵdirectiveInject(i1.IntranetPostService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nSingleIntranetPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SingleIntranetPostComponent,\n  selectors: [[\"app-single-intranet-post\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"intranet-post-card\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"intranet-post-card\", 3, \"ngClass\"], [3, \"src\", \"alt\"], [3, \"click\"], [3, \"ngStyle\"], [\"routerLink\", \"/intranetPosts\"]],\n  template: function SingleIntranetPostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SingleIntranetPostComponent_div_0_Template, 17, 18, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.intranetPost$));\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i3.NgStyle, i2.RouterLinkWithHref, i3.AsyncPipe, i3.UpperCasePipe, i3.DatePipe],\n  styles: [\".intranet-post-card[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  width: 50%;\\n  margin: 20px auto;\\n  padding: 10px 30px;\\n  box-shadow: lightgray 4px 4px 20px;\\n}\\n.intranet-post-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n.intranet-post-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n.intranet-post-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-weight: 300;\\n  font-size: 16px;\\n}\\n.intranet-post-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: transparent;\\n  box-sizing: border-box;\\n  padding: 5px 10px;\\n  border: none;\\n  box-shadow: lightgray 3px 3px 7px;\\n  margin-right: 20px;\\n  outline: none;\\n  font-size: 14px;\\n  font-weight: 500;\\n}\\n.intranet-post-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n  transform: translate(1px, 1px);\\n  box-shadow: lightgray 0 0 5px;\\n}\\n.snapped[_ngcontent-%COMP%] {\\n  background-color: rgba(144, 238, 144, 0.4);\\n  color: darkgreen;\\n}\\n.snapped[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  box-shadow: lightgreen 3px 3px 7px;\\n  color: darkgreen;\\n}\\n.snapped[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n  box-shadow: lightgreen 0 0 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbmdsZS1pbnRyYW5ldC1wb3N0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksc0JBQUE7RUFDQSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtDQUFBO0FBQ0o7QUFBSTtFQUNJLFdBQUE7QUFFUjtBQUFJO0VBQ0ksZ0JBQUE7QUFFUjtBQUFJO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0FBRVI7QUFBSTtFQUNDLDZCQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxpQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUVMO0FBREs7RUFDRyw4QkFBQTtFQUNBLDZCQUFBO0FBR1I7QUFFQTtFQUNJLDBDQUFBO0VBQ0EsZ0JBQUE7QUFDSjtBQUFJO0VBQ0ksa0NBQUE7RUFDQSxnQkFBQTtBQUVSO0FBREk7RUFDSSw4QkFBQTtBQUdSIiwiZmlsZSI6InNpbmdsZS1pbnRyYW5ldC1wb3N0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmludHJhbmV0LXBvc3QtY2FyZCB7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgYm94LXNoYWRvdzogbGlnaHRncmF5IDRweCA0cHggMjBweDtcclxuICAgIGltZyB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcbiAgICBoMiB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgIH1cclxuICAgIHAge1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgfVxyXG4gICAgYnV0dG9uIHtcclxuICAgIFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICBcdHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgXHRib3JkZXI6IG5vbmU7XHJcbiAgICBcdGJveC1zaGFkb3c6IGxpZ2h0Z3JheSAzcHggM3B4IDdweDtcclxuICAgIFx0bWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgXHRvdXRsaW5lOiBub25lO1xyXG4gICAgXHRmb250LXNpemU6IDE0cHg7XHJcbiAgICBcdGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBcdCY6YWN0aXZlIHtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgxcHgsIDFweCk7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbGlnaHRncmF5IDAgMCA1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4uc25hcHBlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKGxpZ2h0Z3JlZW4sIDAuNCk7XHJcbiAgICBjb2xvcjogZGFya2dyZWVuO1xyXG4gICAgYnV0dG9uIHtcclxuICAgICAgICBib3gtc2hhZG93OiBsaWdodGdyZWVuIDNweCAzcHggN3B4O1xyXG4gICAgICAgIGNvbG9yOiBkYXJrZ3JlZW47XHJcbiAgICAmOmFjdGl2ZSB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbGlnaHRncmVlbiAwIDAgNXB4O1xyXG4gICAgfVxyXG4gICAgfVxyXG59Il19 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;IAAAA,+BAAgI,CAAhI,EAAgI,IAAhI;IACMA;;IAAoCA;IACxCA;IACAA;IAAGA;;IAAkEA;IACrEA;IAAGA;IAA8BA;IACjCA,2BAAG,EAAH,EAAG,QAAH,EAAG,CAAH;IAAWA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAAT;IAAgC,CAAhC;IAAkCA;IAAcA;IAASA;IAAqEA;IAAwBA;IACjKA;IAA+BA;IAAIA;;;;;;IANyCA;IACxEA;IAAAA;IACCA;IAAAA,iEAA6B,KAA7B,EAA6BC,qBAA7B;IACFD;IAAAA;IACAA;IAAAA;IAC0CA;IAAAA;IAA6BA;IAAAA;IAA+DA;IAAAA;;;;ACM3I,OAAM,MAAOE,2BAAP,CAAkC;EAOtCC,YAAoBC,mBAApB,EACoBC,KADpB,EACyC;IADrB;IACA;EAA0B;;EAE9CC,QAAQ;IACN,KAAKC,UAAL,GAAkB,MAAlB;IACA,MAAMC,MAAM,GAAG,CAAC,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,MAApB,CAA2B,IAA3B,CAAhB;IACA,KAAKC,aAAL,GAAqB,KAAKP,mBAAL,CAAyBQ,mBAAzB,CAA6CJ,MAA7C,CAArB;EACD,CAdqC,CAgBtC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;EACAK,MAAM,CAACL,MAAD,EAAe;IACnB,IAAI,KAAKD,UAAL,KAAoB,MAAxB,EAA+B;MAC7B,KAAKH,mBAAL,CAAyBU,gBAAzB,CAA0CN,MAA1C,EAAkD,MAAlD,EAD6B,CAE7B;;MACA,KAAKD,UAAL,GAAkB,SAAlB;IACD,CAJD,MAIO;MACL,KAAKH,mBAAL,CAAyBU,gBAAzB,CAA0CN,MAA1C,EAAkD,SAAlD,EADK,CAEL;;MACA,KAAKD,UAAL,GAAkB,MAAlB;IACD;EACF;;AArCqC;;;mBAA3BL,6BAA2BF;AAAA;;;QAA3BE;EAA2Ba;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXxCnB;;;;;MAAiCA","names":["i0","intranetPost_r1","SingleIntranetPostComponent","constructor","intranetPostService","route","ngOnInit","buttonText","postId","snapshot","params","intranetPost$","getSnapIntranetById","onLike","snapIntranetById","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Work\\MyApp\\Groupomania\\groupomania-P7-08082022\\App-intranet\\src\\app\\single-intranet-post\\single-intranet-post.component.html","C:\\Work\\MyApp\\Groupomania\\groupomania-P7-08082022\\App-intranet\\src\\app\\single-intranet-post\\single-intranet-post.component.ts"],"sourcesContent":["<div class=\"intranet-post-card\" *ngIf=\"intranetPost$ | async as intranetPost\" [ngClass]=\"{ snapped: buttonText === 'Dislike' }\">\n  <h2>{{ intranetPost.title | uppercase }}</h2>\n  <img [src]=\"intranetPost.imageUrl\" [alt]=\"intranetPost.title\">\n  <p>Mis en ligne le {{ intranetPost.createdDate | date: 'd MMMM yyy'}}</p>\n  <p>{{ intranetPost.description }}</p>\n  <p><button (click)=\"onLike(intranetPost.id)\">{{buttonText}}</button><span [ngStyle]=\"{ color: 'rgb(0, ' + intranetPost.snaps + ', 0)' }\">{{ intranetPost.snaps }}</span></p>\n  <a routerLink=\"/intranetPosts\">Back</a>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { IntranetPost } from '../models/intranet-post.model';\nimport { IntranetPostService } from '../services/intranet-post.service';\n\n@Component({\n  selector: 'app-single-intranet-post',\n  templateUrl: './single-intranet-post.component.html',\n  styleUrls: ['./single-intranet-post.component.scss']\n})\nexport class SingleIntranetPostComponent implements OnInit {\n  \n  buttonText!: string;\n  // intranetPost!: IntranetPost;\n  intranetPost$!: Observable<IntranetPost>;\n\n\n  constructor(private intranetPostService: IntranetPostService,\n              private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.buttonText = 'Like';\n    const postId = +this.route.snapshot.params['id']; \n    this.intranetPost$ = this.intranetPostService.getSnapIntranetById(postId)\n  }\n\n  // onLike() {\n  //   if (this.buttonText === 'Like'){\n  //     this.intranetPostService.snapIntranetById(this.intranetPost.id, 'Like');\n  //     // this.intranetPost.snaps++;\n  //     this.buttonText = 'Dislike';\n  //   } else {\n  //     this.intranetPostService.snapIntranetById(this.intranetPost.id, 'Dislike');\n  //     // this.intranetPost.snaps--;\n  //     this.buttonText = 'Like';\n  //   }\n  // }\n  onLike(postId: number) {\n    if (this.buttonText === 'Like'){\n      this.intranetPostService.snapIntranetById(postId, 'Like');\n      // this.intranetPost.snaps++;\n      this.buttonText = 'Dislike';\n    } else {\n      this.intranetPostService.snapIntranetById(postId, 'Dislike');\n      // this.intranetPost.snaps--;\n      this.buttonText = 'Like';\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}